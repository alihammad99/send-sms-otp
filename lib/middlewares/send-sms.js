exports.__esModule=!0,exports.sendSMS=void 0;var _error=_interopRequireDefault(require("../utils/error"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const sendSMS=async function(e){const{token:t,phoneNumber:r,message:n,sender:o,otp:s,environment:a}=e,i={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({messages:[{channel:"sms",recipients:[r],content:`${n||""} ${0!==s?"Your OTP code is: "+s:""}`,msg_type:"text",data_coding:"text"}]})};try{const e=await fetch("https://api.d7networks.com/messages/v1/send",i);e.ok||(0,_error.default)("Invalid D7Networks token!",a,"error");return await e.json()}catch(e){(0,_error.default)(`Error sending SMS: ${e}`,a,"error")}};exports.sendSMS=sendSMS;